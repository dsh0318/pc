<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="css/detail.css"/>
</head>
<body>
<div class="box">
    <div class="box_in">
        <!--logo-->
        <div class="head">
            <a href="javascript:;" class="reg_logo"><img src="img/register_logo.png"/></a>
            <a href="javascript:;" class="welcome"><img src="img/welcome_txt.png"/></a>
        </div>
        <!--main-->
        <div class="main">
            <div class="main_l"><img src="img/ad_img.jpg"/></div>
            <div class="main_r">
                <form action="" id="form" method="post">
                    <div id="main_rr">
                        <h3>登陆美丽说<a href="javascript:;">注册</a></h3>
                        <div class="login_list">
                            <p class="login_box">
                                <input type="text" class="login_text" placeholder="邮箱/手机号/昵称" id="username"/>
                                <span class="error_img" id="error_img1"></span>
                                <span class="icon"></span>
                            <div class="error"></div>
                            </p>
                        </div>
                        <div class="login_list login_list1">
                            <p class="login_box">
                                <input type="text" class="login_text" placeholder="密码" id="password"/>
                                <span class="error_img" id="error_img2"><img src=""/></span>
                                <span class="icon"></span>
                            <div class="error"></div>
                            </p>
                        </div>
                    </div>
                    <div class="boxs" id="box">
                        <p>请点击下方图片进行验证</p>
                        <div class="inner" id="inner">
                            <div class="inners" id="inners">
                                <div><a href="javascript:;" class="img r1"><img src="img/li1.jpg"/></a><a href="javascript:;" class="img r2"><img src="img/li2.jpg"/></a><a href="javascript:;" class="img r3"><img src="img/li3.jpg"/></a><a href="javascript:;" class="img r4"><img src="img/li4.jpg"/></a></div>
                                <div><a href="javascript:;" class="img r1"><img src="img/li5.jpg"/></a><a href="javascript:;" class="img r2"><img src="img/li6.jpg"/></a><a href="javascript:;" class="img r3"><img src="img/li7.jpg"/></a><a href="javascript:;" class="img r4"><img src="img/li8.jpg"/></a></div>
                                <div><a href="javascript:;" class="img r1"><img src="img/li9.jpg"/></a><a href="javascript:;" class="img r2"><img src="img/li10.jpg"/></a><a href="javascript:;" class="img r3"><img src="img/li11.jpg"/></a><a href="javascript:;" class="img r4"><img src="img/li12.jpg"/></a></div>
                                <div><a href="javascript:;" class="img r1"><img src="img/li13.jpg"/></a><a href="javascript:;" class="img r2"><img src="img/li14.jpg"/></a><a href="javascript:;" class="img r3"><img src="img/li15.jpg"/></a><a href="javascript:;" class="img r4"><img src="img/li16.jpg"/></a></div>
                                <div><a href="javascript:;" class="img r1"><img src="img/li17.jpg"/></a><a href="javascript:;" class="img r2"><img src="img/li18.jpg"/></a><a href="javascript:;" class="img r3"><img src="img/li19.jpg"/></a><a href="javascript:;" class="img r4"><img src="img/li20.jpg"/></a></div>
                            </div>
                        </div>
                        <a href="javascript:;" class="button" id="button">换一组</a>
                    </div>
                    <div class="login_button">
                        <input type="submit" class="login_btn" value="立即登陆" id="login_btn"/>
                    </div>
                    <div class="remember">
                        <div class="rem">
                            <input type="checkbox" checked="checked" id="savestate" name="savestate"/>
                            <lable for="savestate">记住我</lable>
                        </div>
                        <div class="forget">
                            <a href="javascript:;" target="_blank">忘记密码？</a>
                        </div>
                    </div>
                </form>
                <div class="fast_login">
                    <h3>无需注册，即可登陆</h3>
                    <div class="fast_way">
                        <a href="javascript:;" class="qq_way"></a>
                        <a href="javascript:;" class="sina_way"></a>
                        <a href="javascript:;" class="weixin_way"></a>
                    </div>
                </div>
                <div class="more_way" id="more_way">
                    <a href="javascript:;">更多登陆方式>></a>
                    <div class="more_ways">
                        <a href="javascript:;" class="weibo"></a>
                        <a href="javascript:;" class="douban"></a>
                        <a href="javascript:;" class="renren"></a>
                        <a href="javascript:;" class="baidu"></a>
                    </div>
                </div>
                <div class="notice">公告：淘宝互联已失效，点击进行 <a href="javascript:;">账号申诉</a></div>
            </div>
        </div>
    </div>
</div>
<script src="js/tween.js"></script>
<script src="js/utils.js"></script>
<script src="js/index1.js"></script>
<script>
    //详情页表单验证
    ~function(){
        var main_rr=document.getElementById("main_rr");
        var oInput=main_rr.getElementsByTagName("input");
        var username=document.getElementById("username");
        var password=document.getElementById("password");
        var error_img1=document.getElementById("error_img1");
        var error_img2=document.getElementById("error_img2");
        var more_way=document.getElementById("more_way");
        var oA=more_way.getElementsByTagName("a")[0];
        var oDiv=more_way.getElementsByTagName("div")[0];

        oA.onclick=function(){
            if(oDiv.style.display=="block"){
                oDiv.style.display="none";
            }else{
                oDiv.style.display="block";
            }
        };

        for(var i=0;i<oInput.length;i++){
            //获得焦点的时候
            oInput[i].onfocus=function(){
                if(this.value==this.defaultValue){
                    this.value="";
                }
                this.style.border="1px solid #f69";
            };

            //用户名失去焦点的时候
            username.onblur=function() {
                var reg = /^\s*$/;
                if (reg.test(this.value)) {
                    this.value = this.defaultValue;
                }
                //在把表单数据提交之前，应该把所有空格（或首尾空格）去掉
                var regSpace = /\s+/g;//去掉所有空格的正则
                this.value = this.value.replace(regSpace, "");

                var regTrim = /^\s+|\s+$/g;


                var reg = /(^[\u4e00-\u9fa5]{2,4}$)|(^1[0-9]{10})|([a-zA-Z0-9]{1,10}@[a-zA-Z0-9]{1,5}\.[a-zA-Z0-9]{1,5})/;
                if (reg.test(this.value)) {
                    //输入正确
                    var oTip = document.getElementById("tip");
                    if (!oTip) {//如果这个提示条不存在则创建
                        var oTip = document.createElement("span");
                        oTip.id = "tip";
                        this.parentNode.insertBefore(oTip, this.nextSibling);
                    }
                    oTip.style.color = "green";
                    oTip.innerHTML = "输入正确";
                    oTip.style.paddingTop="5px";
                    error_img1.style.display="none";
                } else {
                    //请输入合法姓名
                    var oTip = document.getElementById("tip");
                    if (!oTip) {
                        oTip = document.createElement("span");
                        oTip.id = "tip";
                        oTip.style.lineHeight="26px";
                        this.parentNode.insertBefore(oTip, this.nextSibling);
                    }
                    oTip.innerHTML = "请输入正确的用户名";
                    oTip.style.color="#f69";
                    oTip.style.lineHeight="26px";
                    error_img1.style.display="block";
                }
            };

            //密码失去焦点的时候
            password.onblur=function() {
                var reg = /^\s*$/;
                if (reg.test(this.value)) {
                    this.value = this.defaultValue;
                }
                //在把表单数据提交之前，应该把所有空格（或首尾空格）去掉
                var regSpace = /\s+/g;//去掉所有空格的正则
                this.value = this.value.replace(regSpace, "");

                var regTrim = /^\s+|\s+$/g;
                var regs = /^[0-9]{6}/;
                if (regs.test(this.value)&&this.value.length==6) {
                    //输入正确
                    var oTips = document.getElementById("oTips");
                    if (!oTips) {//如果这个提示条不存在则创建
                        var oTips = document.createElement("span");
                        oTips.id = "oTips";
                        this.parentNode.insertBefore(oTips, this.nextSibling);
                        error_img2.style.display="block";
                    }
                    oTips.style.color = "green";
                    oTips.innerHTML = "输入正确";
                    oTips.style.lineHeight="26px";
                    error_img2.style.display="none";
                } else {
                    //请输入合法姓名
                    var oTips = document.getElementById("oTips");
                    if (!oTips) {
                        oTips = document.createElement("span");
                        oTips.id = "oTips";
                        this.parentNode.insertBefore(oTips, this.nextSibling);
                    }

                    oTips.innerHTML = "请输入密码";
                    oTips.style.color="#f69";
                    oTips.style.lineHeight="26px";
                    error_img2.style.display="block";
                }
            };
        }
    }();

    //图片验证码
    ~function(){
        var box=document.getElementById("box");
        var as = box.getElementsByTagName('img');
        var button = document.getElementById('button');
        var inner=document.getElementById("inner");
        var inners=document.getElementById("inners");
        var oDiv=inners.getElementsByTagName("div");
        var login_btn=document.getElementById("login_btn");
        inners.style.width=oDiv.length*800+"px";

        function getRandom(n,m){
            return Math.round(Math.random()*(m-n)+n);
        }

        for(var i = 0;i<as.length;i++){
            var cur = as[i];
            cur.num = getRandom(0,3);
            cur.style.webkitTransform = 'rotate('+90*cur.num+'deg)';
            cur.flag = cur.num%4==0?true:false;
            cur.onclick = function () {
                this.num +=1;
                this.style.webkitTransform = 'rotate('+90*this.num+'deg)';
                if(this.num%4==0){
                    this.flag = true;
                }else{
                    this.flag = false;
                }
                show();
            }
        }

        var step=0;

        function autoMove(){
            console.log(step);
            if(step==4){
                step=0;
                animate.setCss(inners,"left",-260);
                console.log(inners.style.left);
            }
            step++;
            animate.setCss(inners,"left",step*-260);
        }
        button.onclick=autoMove;

        function show(){
            for(var i = 0;i<as.length;i++){
                var cur = as[i];
                if(cur.flag == false){
                    console.log(1);
                    return;
                }
            }
            console.log(2);
        }
        show();
    }()
</script>
</body>
</html>